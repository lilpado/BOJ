## 이 공식을 알고있니?

[도움을 받은 곳](https://42kchoi.tistory.com/277)

이 문제,
> 50점과 100점을 나누는 이 공식을 알고있니?

### 공식
```
result = (a * b) % c;

t = (a % b) * (b % c);
if (t > c) t = t % c;

이 때 t == result
```
(a * b) % c 를 고집하지 말고,
유연하게 식을 바꿔서 대처할 필요가 있다. (미리 %c 를 해주는 등) 


#### 50점

나는 이걸 모르고 무작정 long double 형으로 하고,
fmodl(x, y) 함수를 통해 나머지 연산을 했다.
> 문제 없이 나오는 것 처럼 보였으나 결국 50점 처리 !


### 해결

#### Idea
- 우선 double형은 필요없고, 
범위가 커서 일부 변수에 대해 **int(4byte)** 가 아닌 **long long(8byte)** 를 사용하자.

- (M = 1,234,567,891 인데, int형은 대략 2,000,000,000 정도 버틴다. 
`x % M`의 결과는 int형으로 담을 수 있으나 그 전의 큰 값은 int형으로 부족하다는 예상을 할 수 있다.)

#### 수정
- 가장 첫 문제점은 pow(r, i) 함수를 쓰던 것이었다.
반환값은 int형을 쉽게 뚫어(?) 버린다.

- 따라서 loop문으로 대체하되, r의 값이 int형을 넘어가려고할 때 `% M` 을 해준다.

(위에서 설명한 공식대로, 문제 없는 방식이다.)

```
  for (int k = 0; k < i; k++)
  {
    r *= 31;
    if (r > M) r %= M; 
  }
  sum += c * r;
```
- 위와 같이 sum에 각 문자 순서대로 값을 주워 담자.
- 그 후 최종적으로 `key = sum % M` 을 해주면 된다.
